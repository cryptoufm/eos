{"ast":null,"code":"import _defineProperty from \"/home/eos_dapp/client/node_modules/@babel/runtime/helpers/esm/defineProperty\";\nvar _jsxFileName = \"/home/eos_dapp/client/src/Components/Game/index.js\";\n\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(source, true).forEach(function (key) { _defineProperty(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(source).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }\n\nimport React, { Component } from 'react';\nimport Typography from '@material-ui/core/Typography';\nimport Grid from '@material-ui/core/Grid';\nimport { Link } from 'react-router-dom';\nimport PersonIcon from '@material-ui/icons/Person';\nimport LocalAtmIcon from '@material-ui/icons/LocalAtm';\nimport Button from '@material-ui/core/Button';\nimport AccountTreeIcon from '@material-ui/icons/AccountTree';\nimport Footer from '../Footer';\nimport { geolocated } from \"react-geolocated\";\nimport teal from '@material-ui/core/colors/teal';\nimport TextField from '@material-ui/core/TextField';\nimport { styles } from './styles.css';\nimport LocationOnIcon from '@material-ui/icons/LocationOn';\n\nclass Game extends Component {\n  constructor(props) {\n    super(props);\n\n    this.handleSubmit = event => {\n      event.prevenDefault();\n      const data = this.state;\n      console.log(\"Data que se esta enviando: \", data);\n    };\n\n    this.handleInputChange = event => {\n      event.preventDefault();\n      this.setState({\n        [event.target.name]: event.target.value\n      });\n    };\n\n    this.state = {\n      codigo: '',\n      longitude: 1,\n      latitude: 1,\n      started: false,\n      gameOver: false,\n      order: [1, 2, 3, 4, 5, 6],\n      current: 0,\n      hint1: false,\n      hint2: false,\n      valid: false,\n      guess: '',\n      data: {\n        reward: 100,\n        hint1: 20,\n        hint2: 50,\n        stations: [{\n          \"id\": \"1\",\n          \"coords\": {\n            \"x1\": \"-90.505627\",\n            \"y1\": \"14.604346\",\n            \"x2\": \"-90.50559185\",\n            \"y2\": \"14.60442246\",\n            \"x3\": \"-90.50567632\",\n            \"y3\": \"14.60436332\",\n            \"x4\": \"-90.505479\",\n            \"y4\": \"14.604436\"\n          },\n          \"code\": \"ay7f\",\n          \"hint1\": \"hola1\",\n          \"hint2\": \"hola2\",\n          \"pregunta\": \"Donde es esto\",\n          \"name\": \"Estacion misteriosa\"\n        }, {\n          \"id\": \"2\",\n          \"coords\": {\n            \"x1\": \"-90.505432\",\n            \"y1\": \"14.605253\",\n            \"x2\": \"-90.50540619\",\n            \"y2\": \"14.60550398\",\n            \"x3\": \"-90.505463\",\n            \"y3\": \"14.605940\",\n            \"x4\": \"-90.50565508\",\n            \"y4\": \"14.60588374\"\n          },\n          \"code\": \"xym9\",\n          \"hint1\": \"hola1\",\n          \"hint2\": \"hola2\",\n          \"pregunta\": \"Donde es esto\",\n          \"name\": \"Estacion misteriosa2\"\n        }, {\n          \"id\": \"3\",\n          \"coords\": {\n            \"x1\": \"-90.505308\",\n            \"y1\": \"14.607521\",\n            \"x2\": \"-90.50545202\",\n            \"y2\": \"14.60752042\",\n            \"x3\": \"-90.50552779\",\n            \"y3\": \"14.60770161\",\n            \"x4\": \"-90.505316\",\n            \"y4\": \"14.607782\"\n          },\n          \"code\": \"b4rc\",\n          \"hint1\": \"hola1\",\n          \"hint2\": \"hola2\",\n          \"pregunta\": \"Donde es esto\",\n          \"name\": \"Estacion misteriosa3\"\n        }, {\n          \"id\": \"4\",\n          \"coords\": {\n            \"x1\": \"-90.50553645\",\n            \"y1\": \"14.60792996\",\n            \"x2\": \"-90.505814\",\n            \"y2\": \"14.607938\",\n            \"x3\": \"-90.50551126\",\n            \"y3\": \"14.60805315\",\n            \"x4\": \"-90.505733\",\n            \"y4\": \"14.608161\"\n          },\n          \"code\": \"e9dc\",\n          \"hint1\": \"hola1\",\n          \"hint2\": \"hola2\",\n          \"pregunta\": \"Donde es esto\",\n          \"name\": \"Estacion misteriosa4\"\n        }, {\n          \"id\": \"5\",\n          \"coords\": {\n            \"x1\": \"-90.506092\",\n            \"y1\": \"14.605294\",\n            \"x2\": \"-90.506283\",\n            \"y2\": \"14.605427\",\n            \"x3\": \"-90.50628688\",\n            \"y3\": \"14.60521395\",\n            \"x4\": \"-90.50643709\",\n            \"y4\": \"14.6053888\"\n          },\n          \"code\": \"k84c\",\n          \"hint1\": \"hola1\",\n          \"hint2\": \"hola2\",\n          \"pregunta\": \"Donde es esto\",\n          \"name\": \"Estacion misteriosa5\"\n        }, {\n          \"id\": \"6\",\n          \"coords\": {\n            \"x1\": \"-90.505867\",\n            \"y1\": \"14.604652\",\n            \"x2\": \"-90.5061779\",\n            \"y2\": \"14.6048341\",\n            \"x3\": \"-90.506124\",\n            \"y3\": \"14.604449\",\n            \"x4\": \"-90.50624299\",\n            \"y4\": \"14.60484282\"\n          },\n          \"code\": \"i75j\",\n          \"hint1\": \"hola1\",\n          \"hint2\": \"hola2\",\n          \"pregunta\": \"Donde es esto\",\n          \"name\": \"Estacion misteriosa6\"\n        }]\n      }\n    };\n  }\n\n  componentDidMount() {\n    this.getLocation();\n  }\n\n  startGame() {\n    const data = this.state.data;\n    const stations = data.stations;\n\n    for (let i = stations.length - 1; i > 0; i--) {\n      const j = Math.floor(Math.random() * i);\n      const temp = stations[i];\n      stations[i] = stations[j];\n      stations[j] = temp;\n    }\n\n    console.log(\"suffle\", data); // data.stations = suffle\n\n    this.setState(_objectSpread({}, this.state, {\n      started: true,\n      data\n    }));\n    console.log(this.state);\n  }\n\n  getLocation() {\n    var msg;\n\n    if ('geolocation' in navigator) {\n      var options = {\n        enableHighAccuracy: false,\n        timeout: 5000,\n        maximumAge: 0\n      };\n      navigator.geolocation.getCurrentPosition(position => {\n        this.setState(_objectSpread({}, this.state, {\n          latitude: position.coords.latitude,\n          longitude: position.coords.longitude\n        }));\n        console.log(position.coords);\n        console.log(\"state position\", this.state.latitude, this.state.longitude);\n      }); //navigator.geolocation.getCurrentPosition(success, error, options)\n      // function success(pos){\n      //     var lng = pos.coords.longitude;\n      //     var lat = pos.coords.latitude;\n      //     msg = 'You appear to be at longitude: ' + lng + ' and latitude: ' + lat  + '<img src=\"https://maps.googleapis.com/maps/api/staticmap?zoom=15&size=300x300&maptype=roadmap&markers=color:red%7Clabel:A%7C' + lat + ',' + lng+ '&sensor=false\">'\n      //     console.log(msg)\n      //     this.setState({\n      //        latitude: lat,\n      //        longitude: lng\n      //     })\n      // }\n      // function error(err){\n      //     msg = 'Error: ' + err + ' :(';\n      //     console.log(msg)\n      // }\n    } else {\n      msg = \"Sorry, looks like your browser doesn't support geolocation\";\n      alert(msg);\n      console.log(msg);\n    }\n  }\n\n  showHint1() {\n    if (this.state.hint1 === false) {\n      const current = this.state.current;\n      const hint = this.state.data.stations[current].hint1;\n      alert(hint); //ACA QUITAR PUNTOS\n\n      this.setState(_objectSpread({}, this.state, {\n        hint1: true\n      }));\n    } else {\n      alert(\"Las buenas oportunidades solo se dan una vez\");\n    }\n  }\n\n  showHint2() {\n    if (this.state.hint2 === false) {\n      const current = this.state.current;\n      const hint = this.state.data.stations[current].hint2;\n      alert(hint); //ACA QUITAR PUNTOS\n\n      this.setState(_objectSpread({}, this.state, {\n        hint2: true\n      }));\n    } else {\n      alert(\"Las buenas oportunidades solo se dan una vez\");\n    }\n  }\n\n  handleCodeChange(event) {\n    // this.setState({\n    //     ...this.state,\n    //     guess: event.target.value\n    // })\n    console.log(guess);\n  } // isValid() {\n  //     actual = this.state.current\n  //     station = this.state.data.stations[actual]\n  //     if(station.code === this.state.guess) {\n  //         this.setState({\n  //             ...this.state,\n  //             valid: true\n  //          })\n  //     }\n  // }\n\n\n  nextStation() {\n    if (this.state.current + 1 < this.state.data.stations.length) {\n      console.log('len', this.state.data.stations.length);\n      console.log(\"station\", this.state.current, this.state.data);\n      const actual = this.state.current;\n      this.setState(_objectSpread({}, this.state, {\n        current: actual + 1,\n        valid: false\n      }));\n    } else {\n      this.setState(_objectSpread({}, this.state, {\n        gameOver: true,\n        started: false,\n        valid: false\n      }));\n    }\n  }\n\n  renderStation() {\n    const currentp = this.state.current;\n    const station = this.state.data.stations[currentp];\n    return React.createElement(\"div\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 282\n      },\n      __self: this\n    }, \"\\xA0\\xA0\\xA0\\xA0\\xA0\\xA0\\xA0\\xA0\\xA0\\xA0\\xA0\\xA0\\xA0\\xA0\\xA0\\xA0\", React.createElement(\"div\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 283\n      },\n      __self: this\n    }, \"\\xA0\\xA0\\xA0\\xA0\\xA0\\xA0 \\xA0\\xA0\\xA0\\xA0\\xA0\\xA0\\xA0\\xA0 \\xA0\\xA0\\xA0\\xA0\\xA0\\xA0\\xA0\\xA0\\xA0\\xA0\\xA0\\xA0\\xA0\\xA0\\xA0\\xA0\", \"\\xA0\\xA0\\xA0\\xA0\\xA0\\xA0\\xA0\\xA0\\xA0\\xA0\\xA0\\xA0\\xA0\\xA0\\xA0\\xA0\", React.createElement(\"div\", {\n      className: \"header\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 286\n      },\n      __self: this\n    }, \"\\xA0\\xA0\\xA0\\xA0\\xA0\\xA0\\xA0\\xA0\\xA0\\xA0\\xA0\\xA0\\xA0\\xA0\\xA0\\xA0\\xA0\\xA0\\xA0 \", React.createElement(LocationOnIcon, {\n      className: \"icon\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 287\n      },\n      __self: this\n    }), \"\\xA0\\xA0\\xA0\\xA0\\xA0\\xA0\\xA0\\xA0\\xA0\\xA0\\xA0\\xA0\\xA0\\xA0\\xA0\\xA0\\xA0\\xA0\\xA0\\xA0\", React.createElement(\"div\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 288\n      },\n      __self: this\n    }, \" \", station.name, \" \"), \"\\xA0\\xA0\\xA0\\xA0\\xA0\\xA0\\xA0\\xA0\\xA0\\xA0\\xA0\\xA0\\xA0\\xA0\\xA0\\xA0\"), React.createElement(\"div\", {\n      className: \"header\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 290\n      },\n      __self: this\n    }, \"\\xA0\\xA0\\xA0\\xA0\\xA0\\xA0\\xA0\\xA0\\xA0\\xA0\\xA0\\xA0\\xA0\\xA0\\xA0\\xA0     \", React.createElement(TextField, {\n      id: \"outlined-email-input\",\n      label: \"code\",\n      type: \"code\",\n      name: \"code\",\n      autoComplete: \"Ingresa el codigo\",\n      margin: \"normal\",\n      variant: \"outlined\",\n      onChange: () => this.handleCodeChange(),\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 291\n      },\n      __self: this\n    })), React.createElement(\"div\", {\n      id: \"hints\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 302\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 303\n      },\n      __self: this\n    }, \"need help?\"), \"\\xA0\\xA0\\xA0\\xA0\\xA0\\xA0\\xA0\\xA0\\xA0\\xA0\\xA0\\xA0\\xA0\\xA0\\xA0\\xA0    \", !this.state.hint1 ? React.createElement(Button, {\n      variant: \"outlined\",\n      color: \"primary\",\n      onClick: () => this.showHint1(),\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 306\n      },\n      __self: this\n    }, \"\\xA0Hint \") : null, \"\\xA0\\xA0\\xA0\\xA0\\xA0\\xA0\\xA0\\xA0\\xA0\\xA0\\xA0\\xA0\\xA0\\xA0\\xA0\\xA0    \", this.state.hint1 && !this.state.hint2 ? React.createElement(Button, {\n      variant: \"outlined\",\n      color: \"primary\",\n      onClick: () => this.showHint2(),\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 307\n      },\n      __self: this\n    }, \"\\xA0Even better than the last one\") : null, React.createElement(Button, {\n      variant: \"outlined\",\n      color: \"primary\",\n      onClick: () => this.nextStation(),\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 308\n      },\n      __self: this\n    }, \"\\xA0Next challenge \")), \"\\xA0\\xA0\\xA0\\xA0\\xA0\\xA0\\xA0\\xA0\\xA0\\xA0\\xA0\\xA0\\xA0\\xA0\"), \"\\xA0\\xA0\\xA0\\xA0\\xA0\\xA0\\xA0\\xA0\\xA0\\xA0\\xA0\\xA0\");\n  }\n\n  render() {\n    return React.createElement(\"div\", {\n      id: \"wrapper\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 319\n      },\n      __self: this\n    }, !this.state.gameOver ? !this.state.started ? React.createElement(Button, {\n      variant: \"outlined\",\n      color: \"primary\",\n      onClick: () => this.startGame(),\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 322\n      },\n      __self: this\n    }, \"\\xA0Start Game \") : this.renderStation() : React.createElement(\"div\", {\n      className: \"header\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 324\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 325\n      },\n      __self: this\n    }, \" Game over \"), React.createElement(Link, {\n      to: './ranking',\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 326\n      },\n      __self: this\n    }, React.createElement(Button, {\n      variant: \"outlined\",\n      color: \"primary\",\n      onClick: () => this.startGame(),\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 327\n      },\n      __self: this\n    }, \"\\xA0ver resultados \"))), React.createElement(Footer, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 331\n      },\n      __self: this\n    }));\n  }\n\n}\n\nexport default Game;","map":{"version":3,"sources":["/home/eos_dapp/client/src/Components/Game/index.js"],"names":["React","Component","Typography","Grid","Link","PersonIcon","LocalAtmIcon","Button","AccountTreeIcon","Footer","geolocated","teal","TextField","styles","LocationOnIcon","Game","constructor","props","handleSubmit","event","prevenDefault","data","state","console","log","handleInputChange","preventDefault","setState","target","name","value","codigo","longitude","latitude","started","gameOver","order","current","hint1","hint2","valid","guess","reward","stations","componentDidMount","getLocation","startGame","i","length","j","Math","floor","random","temp","msg","navigator","options","enableHighAccuracy","timeout","maximumAge","geolocation","getCurrentPosition","position","coords","alert","showHint1","hint","showHint2","handleCodeChange","nextStation","actual","renderStation","currentp","station","render"],"mappings":"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","sourcesContent":["import React, { Component } from 'react';\nimport Typography from '@material-ui/core/Typography';\nimport Grid from '@material-ui/core/Grid';\nimport { Link } from 'react-router-dom';\nimport PersonIcon from '@material-ui/icons/Person';\nimport LocalAtmIcon from '@material-ui/icons/LocalAtm';\nimport Button from '@material-ui/core/Button';\nimport AccountTreeIcon from '@material-ui/icons/AccountTree';\nimport Footer from '../Footer';\nimport { geolocated } from \"react-geolocated\";\nimport teal from '@material-ui/core/colors/teal';\nimport TextField from '@material-ui/core/TextField';\nimport { styles }             from './styles.css'\nimport LocationOnIcon from '@material-ui/icons/LocationOn';\nclass Game extends Component {\n    \n         constructor(props){\n             super(props)\n             this.state = {\n                 codigo: '',\n                 longitude: 1,\n                 latitude: 1,\n                 started: false,\n                 gameOver: false,\n                 order: [1, 2, 3, 4, 5, 6],\n                 current: 0,\n                 hint1: false,\n                 hint2: false,\n                 valid: false,\n                 guess: '',\n                 data: {\n                    reward: 100,\n                    hint1: 20,\n                    hint2: 50,\n                    stations: [{\n                        \"id\":\"1\",\n                        \"coords\": {\n                            \"x1\":\"-90.505627\",\"y1\":\"14.604346\",\n                            \"x2\":\"-90.50559185\",\"y2\":\"14.60442246\",\n                            \"x3\":\"-90.50567632\",\"y3\":\"14.60436332\",\n                            \"x4\":\"-90.505479\",\"y4\":\"14.604436\"\n                        },\n                        \"code\": \"ay7f\",\n                        \"hint1\":\"hola1\",\n                        \"hint2\":\"hola2\",\n                        \"pregunta\":\"Donde es esto\",\n                        \"name\":\"Estacion misteriosa\"\n                },\n                    {\n                        \"id\":\"2\",\n                        \"coords\": {\n                            \"x1\":\"-90.505432\",\"y1\":\"14.605253\",\n                            \"x2\":\"-90.50540619\",\"y2\":\"14.60550398\",\n                            \"x3\":\"-90.505463\",\"y3\":\"14.605940\",\n                            \"x4\":\"-90.50565508\",\"y4\":\"14.60588374\"\n                        },\n                        \"code\": \"xym9\",\n                        \"hint1\":\"hola1\",\n                        \"hint2\":\"hola2\",\n                        \"pregunta\":\"Donde es esto\",\n                        \"name\":\"Estacion misteriosa2\"\n                    },\n                    {\n                        \"id\":\"3\",\n                        \"coords\": {\n                            \"x1\":\"-90.505308\",\"y1\":\"14.607521\",\n                            \"x2\":\"-90.50545202\",\"y2\":\"14.60752042\",\n                            \"x3\":\"-90.50552779\",\"y3\":\"14.60770161\",\n                            \"x4\":\"-90.505316\",\"y4\":\"14.607782\"\n                        },\n                        \"code\": \"b4rc\",\n                        \"hint1\":\"hola1\",\n                        \"hint2\":\"hola2\",\n                        \"pregunta\":\"Donde es esto\",\n                        \"name\":\"Estacion misteriosa3\"\n                    },{\n                        \"id\":\"4\",\n                        \"coords\": {\n                            \"x1\":\"-90.50553645\",\"y1\":\"14.60792996\",\n                            \"x2\":\"-90.505814\",\"y2\":\"14.607938\",\n                            \"x3\":\"-90.50551126\",\"y3\":\"14.60805315\",\n                            \"x4\":\"-90.505733\",\"y4\":\"14.608161\"\n                        },\n                        \"code\": \"e9dc\",\n                        \"hint1\":\"hola1\",\n                        \"hint2\":\"hola2\",\n                        \"pregunta\":\"Donde es esto\",\n                        \"name\":\"Estacion misteriosa4\"\n                    },{\n                        \"id\":\"5\",\n                        \"coords\": {\n                            \"x1\":\"-90.506092\",\"y1\":\"14.605294\",\n                            \"x2\":\"-90.506283\",\"y2\":\"14.605427\",\n                            \"x3\":\"-90.50628688\",\"y3\":\"14.60521395\",\n                            \"x4\":\"-90.50643709\",\"y4\":\"14.6053888\"\n                        },\n                        \"code\": \"k84c\",\n                        \"hint1\":\"hola1\",\n                        \"hint2\":\"hola2\",\n                        \"pregunta\":\"Donde es esto\",\n                        \"name\":\"Estacion misteriosa5\"\n                    },{\n                        \"id\":\"6\",\n                        \"coords\": {\n                            \"x1\":\"-90.505867\",\"y1\":\"14.604652\",\n                            \"x2\":\"-90.5061779\",\"y2\":\"14.6048341\",\n                            \"x3\":\"-90.506124\",\"y3\":\"14.604449\",\n                            \"x4\":\"-90.50624299\",\"y4\":\"14.60484282\"\n                        },\n                        \"code\": \"i75j\",\n                        \"hint1\":\"hola1\",\n                        \"hint2\":\"hola2\",\n                        \"pregunta\":\"Donde es esto\",\n                        \"name\":\"Estacion misteriosa6\"\n                    }]\n                }\n             }\n         }\n\n    componentDidMount() {\n        this.getLocation();\n    }\n\n\n    handleSubmit = (event) => {\n                 event.prevenDefault()\n                 const data = this.state\n                 console.log(\"Data que se esta enviando: \", data)\n            }\n             handleInputChange = (event) => {\n                 event.preventDefault()\n                 this.setState({\n                     [event.target.name]: event.target.value\n                 })\n             }\n\n    startGame() {\n        const data = this.state.data\n        const stations = data.stations\n        for(let i = stations.length - 1; i > 0; i--){\n            const j = Math.floor(Math.random() * i)\n            const temp = stations[i]\n           stations[i] = stations[j]\n            stations[j] = temp\n        }\n        console.log(\"suffle\", data)\n        // data.stations = suffle\n        this.setState({\n            ...this.state,\n            started: true,\n            data\n        })\n        console.log(this.state)\n    }\n\n\n    getLocation(){\n        var msg;\n\n        if('geolocation' in navigator){\n            var options = {\n                enableHighAccuracy: false,\n                timeout: 5000,\n                maximumAge: 0\n            };\n\n            navigator.geolocation.getCurrentPosition(position => {\n                this.setState({\n                     ...this.state,\n                     latitude: position.coords.latitude,\n                     longitude: position.coords.longitude\n                 })\n                console.log(position.coords)\n                console.log(\"state position\", this.state.latitude, this.state.longitude)\n            })\n\n            //navigator.geolocation.getCurrentPosition(success, error, options)\n            // function success(pos){\n            //     var lng = pos.coords.longitude;\n            //     var lat = pos.coords.latitude;\n            //     msg = 'You appear to be at longitude: ' + lng + ' and latitude: ' + lat  + '<img src=\"https://maps.googleapis.com/maps/api/staticmap?zoom=15&size=300x300&maptype=roadmap&markers=color:red%7Clabel:A%7C' + lat + ',' + lng+ '&sensor=false\">'\n            //     console.log(msg)\n            //     this.setState({\n            //        latitude: lat,\n            //        longitude: lng\n            //     })\n            // }\n\n            // function error(err){\n            //     msg = 'Error: ' + err + ' :(';\n            //     console.log(msg)\n            // }\n        }else{\n            msg = \"Sorry, looks like your browser doesn't support geolocation\";\n            alert(msg)\n            console.log(msg)\n        }\n\n  }\n\n\n    showHint1() {\n        if (this.state.hint1 === false) {\n            const current = this.state.current\n            const hint = this.state.data.stations[current].hint1\n            alert(hint)\n            //ACA QUITAR PUNTOS\n            this.setState({\n                ...this.state,\n                hint1: true,\n            })\n        }\n        else {\n            alert(\"Las buenas oportunidades solo se dan una vez\")\n        }\n    }\n\n    showHint2() {\n        if (this.state.hint2 === false) {\n            const current = this.state.current\n            const hint = this.state.data.stations[current].hint2\n            alert(hint)\n            //ACA QUITAR PUNTOS\n            this.setState({\n                ...this.state,\n                hint2: true,\n            })\n        }\n        else {\n            alert(\"Las buenas oportunidades solo se dan una vez\")\n        }\n    }\n\n    handleCodeChange(event) {\n        // this.setState({\n        //     ...this.state,\n        //     guess: event.target.value\n        // })\n        console.log(guess)\n      }\n\n    // isValid() {\n    //     actual = this.state.current\n    //     station = this.state.data.stations[actual]\n    //     if(station.code === this.state.guess) {\n    //         this.setState({\n    //             ...this.state,\n    //             valid: true\n    //          })\n    //     }\n\n    // }\n\n    nextStation() {\n        if (this.state.current+1 < this.state.data.stations.length) {\n            console.log('len', this.state.data.stations.length)\n            console.log(\"station\", this.state.current, this.state.data)\n            const actual = this.state.current\n            this.setState({\n                ...this.state,\n                current: actual + 1,\n                valid: false\n             })\n\n        }\n        else {\n            this.setState({\n                ...this.state,\n                gameOver: true,\n                started: false,\n                valid: false\n\n             })\n        }\n    }\n\n    renderStation() {\n\n        const currentp = this.state.current\n        const station = this.state.data.stations[currentp]\n        return (\n            <div>\n                <div >      \n        \n                {/*CUENTA */}\n                <div className=\"header\">\n                    <LocationOnIcon className=\"icon\" />\n                    <div> {station.name} </div>\n                </div>\n                <div className=\"header\">\n                     <TextField\n                        id=\"outlined-email-input\"\n                        label=\"code\"\n                        type=\"code\"\n                        name=\"code\"\n                        autoComplete=\"Ingresa el codigo\"\n                        margin=\"normal\"\n                        variant=\"outlined\"\n                        onChange={() => this.handleCodeChange()}\n                    />\n                </div>\n                <div id=\"hints\">\n                    <div>\n                        need help?\n                    </div>\n                    {!this.state.hint1 ? <Button variant=\"outlined\" color=\"primary\" onClick={() => this.showHint1()}> Hint </Button> : null}\n                    {(this.state.hint1 && !this.state.hint2) ? <Button variant=\"outlined\" color=\"primary\" onClick={() => this.showHint2()}> Even better than the last one</Button> : null}\n                    <Button variant=\"outlined\" color=\"primary\" onClick={() => this.nextStation()}> Next challenge </Button>\n                </div>\n              </div>\n            </div>\n            );\n\n    }\n\n\n    render() {\n        return (\n            <div id=\"wrapper\">\n               {!this.state.gameOver ?\n                    !this.state.started ?\n                    <Button variant=\"outlined\" color=\"primary\" onClick={() => this.startGame()}> Start Game </Button>\n                    : this.renderStation() :\n                <div className=\"header\">\n                    <div> Game over </div>\n                    <Link to={'./ranking'}>\n                        <Button variant=\"outlined\" color=\"primary\" onClick={() => this.startGame()}> ver resultados </Button>\n                    </Link>\n                </div>\n               }\n               <Footer />\n            </div>\n        )\n    }\n  }\n\n  export default Game;"]},"metadata":{},"sourceType":"module"}